<html>
<head>
  <script src="http://localhost:35729/livereload.js"></script>
  <script defer src="/webjars/htmx.org/dist/htmx.min.js"></script>
</head>
<body>
<!--/*@thymesVar id="machinesView" type="au.com.amesystems.kotlinspringhtmxviewcomponentstarter.web.machines.MachinesViewComponent.MachinesView"*/-->

<h2 th:text="${machinesView.title}"></h2>

<button view:action="newMachine">new machine</button>

<table>
  <tr>
    <th>Id</th>
    <th>Machine Name</th>
    <th>Description</th>
    <th>Brand</th>
    <th>Model</th>
    <th>Data Path</th>
    <th>Feedback Path</th>
    <th>Actions</th>
  </tr>
  <tr th:each="machine : ${machinesView.machines}">
    <td><span th:text="${machine.id}"></span></td>
    <td><span th:text="${machine.name}"></span></td>
    <td><span th:text="${machine.description}"></span></td>
    <td><span th:text="${machine.brand}"></span></td>
    <td><span th:text="${machine.model}"></span></td>
    <td><span th:text="${machine.dataPath}"></span></td>
    <td><span th:text="${machine.feedbackPath}"></span></td>
    <td>
      <button th:view:action="|deleteMachine?id=${machine.id}|">Delete</button>
    </td>
  </tr>
</table>

<h2>Machine Form</h2>
<form th:object="${machinesView.machine}">
  <div>
    <label>Machine Name <input type="text" id="name" name="name" th:value="${machinesView.machine.name}" /></label>
  </div>
  <div>
    <label>Machine Description <input type="text" id="description" name="description" th:value="${machinesView.machine.description}" /></label>
  </div>
  <div>
    <label>Brand <input type="text" id="brand" name="brand" th:value="${machinesView.machine.brand}" /></label>
  </div>
  <div>
    <label>Model <input type="text" id="model" name="model" th:value="${machinesView.machine.model}" /></label>
  </div>
  <div>
    <label>WPCS Data Path <input type="text" id="dataPath" name="dataPath" th:value="${machinesView.machine.dataPath}" /></label>
  </div>
  <div>
    <label>WPCS Feedback Path <input type="text" id="feedbackPath" name="feedbackPath" th:value="${machinesView.machine.feedbackPath}" /></label>
  </div>
  <div>
    <button type="submit" view:action="saveMachine">Save</button>
  </div>

</form>
</body>
</html>